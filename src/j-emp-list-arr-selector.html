<link rel="import" href="../bower_components/polymer/polymer.html">


<dom-module id="j-emp-list-arr-selector">


    <template>
        <div> Employee list:</div>
        <template is="dom-repeat" id="jemployeeListId" items="{{employees}}">

            <p><span>{{item.first}}</span>--<span>{{item.last}}</span><button on-click="toggleSelection">Select</button></p>

        </template>

        <array-selector id="jEmpSelectorId" items="{{employees}}" selected="{{selectedEmps}}" multi toggle></array-selector>

        <div> Selected employees:</div>
        <template is="dom-repeat" items="{{selectedEmps}}">
            <p><span>{{item.first}}</span>--<span>{{item.last}}</span></p>
        </template>

    </template>


    <script>
        Polymer({
            is: 'j-emp-list-arr-selector',

            ready: function () {
                this.employees = [
                    {first: 'Bob', last: 'Smith'},
                    {first: 'Bob2', last: 'Smith'},
                    {first: 'Bob3', last: 'Smith'},
                    {first: 'Sally', last: 'Johnson'}
                ];
            },
            toggleSelection: function (e) {

                //Get the selected Item

                //way1: polymer attaches as part event obj 'e.model.item'
                //var item = e.model.item;

                //way2: get the item by event target
                var item = this.$.jemployeeListId.itemForElement(e.target);

                //Array Selector
                this.$.jEmpSelectorId.select(item);
            }
        });
    </script>
</dom-module>
